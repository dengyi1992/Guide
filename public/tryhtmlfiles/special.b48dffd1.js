webpackJsonp([5],{0:function(e,n,a){"use strict";a(49),a(119);var t=a(58),i=a(61),s=a(60),o=a(62),r=a(147),c=(a(37),a(35)),l=a(59),p=a(64),h=(a(36),a(38),a(146));p.init(function(){t.init(),i.init(),s.init(),o.init(),r.init(),c.init(),l.init(),h.init({isauto:!0})})},16:function(e,n,a){var t=a(1);e.exports=new t('<div id="J-cart-flow-icon" class="u-shopbag" data-show-cart="{$cart.sku_count|default:0}" data-clear-time="{$cart.clear_time|default:0}">\n    <a href="{if $cart.isWeixin}http://weixin.vip.com/?reload=1&fs={$cart.f}#settlement{else}cart.html?rbc=service{/if}" mars_sead="floating-cart_btn"> \n    	<span class="icon-cart i-flow-carticon"></span> \n    	<span class="u-flow-cartnum J-cart-num">{$cart.sku_count|default:0}</span> \n    	<span class="u-flow-carttime" id="J-cart-time"></span>\n    </a>\n</div>\n')},19:function(e,n){"use strict";function a(e,n){var a={startTime:0,endTime:0,nowTime:0,milliSec:!1,interval:1e3,container:null,zeroDigit:!0,display:!0,unitFormat:{day:!1,hour:!1,min:!0,sec:!0},unitClass:{day:"",hour:"",min:"",sec:""},timeStamp:{day:"天",hour:"时",min:"分",sec:"秒"},timeFormat:!0,message:"",startTips:"",endTips:"",stopTips:"",block:$("<span></span>"),action:"",callback:!1,callbackFunction:null,lastTime:300,lastTimeCallBack:null},t=this,i=null,s={};("object"==typeof arguments[0]||"object"==typeof arguments[1])&&(s=$.extend(s,"object"==typeof arguments[0]?arguments[0]:arguments[1]));var o=$.extend(!0,{},a,s),r=86400,c=3600,l=60;t.model=o.elem,t.init=function(){var e=this.setCountDown();null!=o.container?t.container=t.model.find(o.container):t.container=t.model,e.startTime&&e.startTime>0&&function n(){var a,s,r={};s=e.nowTime<e.startTime?e.startTime-(e.nowTime=e.nowTime===Math.round((new Date).getTime()/1e3)?e.nowTime:Math.round((new Date).getTime()/1e3)):e.endTime-e.nowTime,t.container.html("");for(var c in o.unitFormat)"day"==c&&o.unitFormat[c]&&(r.day=o.display&&"00"===h(s)?o.timeStamp[c]="":h(s)),"hour"==c&&o.unitFormat[c]&&(r.hour=o.display&&"00"===d(s)?o.timeStamp[c]="":d(s)),"min"==c&&o.unitFormat[c]&&(r.min=u(s)),"sec"==c&&o.unitFormat[c]&&(r.sec=m(s)),o.milliSec&&"msec"==c&&o.unitFormat[c]&&(r.msec=f(s));if(e.nowTime<e.startTime)o.startTips&&(a=o.startTips);else{if(!(e.endTime>=e.nowTime)){if(o.stopTips)a=o.stopTips,t.container.html(a);else switch(o.action){case"defined":o.callback&&"function"==typeof o.callbackFunction&&o.callbackFunction.call(t.container);break;default:for(var c in r)r[c]="00",o.block.clone().addClass(o.unitClass[c]).html(r[c]).appendTo(t.container),o.timeStamp&&o.block.clone().text(o.timeStamp[c]).appendTo(t.container)}return clearTimeout(i),!1}o.endTips&&(a=o.endTips)}if(t.container.html(a),o.timeFormat)for(var c in r)o.block.clone().addClass(o.unitClass[c]).html(r[c]).appendTo(t.container),o.timeStamp&&o.block.clone().text(o.timeStamp[c]).appendTo(t.container);else s=parseInt(s)!=s&&o.interval<1e3?s.toFixed(1):Math.floor(s),o.block.clone().addClass(o.unitClass.sec).html(s).appendTo(t.container),o.timeStamp&&o.block.clone().text(o.timeStamp.sec).appendTo(t.container),""!=o.message&&o.block.clone().text(o.message).appendTo(t.container);o.lastTimeCallBack&&Math.floor(s)===o.lastTime&&o.lastTimeCallBack(),e.nowTime=(new Date).getTime()/1e3,i=setTimeout(n,o.interval)}()},t.setCountDown=function(){var e={};return e.startTime=isNaN(o.startTime)?Date.parse(o.startTime.replace(/-/g,"/"))/1e3:Math.round(o.startTime),e.endTime=isNaN(o.endTime)?Date.parse(o.endTime.replace(/-/g,"/"))/1e3:Math.round(o.endTime),e.nowTime=0===o.nowTime?Math.round((new Date).getTime()/1e3):Math.round(o.nowTime),e.startTime&&!o.endTime&&!o.nowTime&&(e.endTime=e.startTime+e.nowTime),e},t.clearCountdown=function(){clearTimeout(i||0)};var p=function(e,n){return e&&10>n?n="0"+n:n},h=function(e){var n=e/r;return p(o.zeroDigit,Math.floor(n))},d=function(e){var n=e/c;return n%=24,p(o.zeroDigit,Math.floor(n))},u=function(e){var n=e/l%60;return p(o.zeroDigit,Math.floor(n))},m=function(e){var n=e%60;return p(o.zeroDigit,Math.floor(n))},f=function(e){var n=1e3*e/100%10;return Math.floor(n)};return t.init()}e.exports=a},20:function(e,n){},21:function(e,n){},22:function(e,n){},23:function(e,n){},27:function(e,n,a){var t=a(1);e.exports=new t('<div class="cart-cmp-text"><span class="vip-red">5分钟</span> 后购物车商品将被清空，去购物车结算？</div>')},35:function(e,n,a){"use strict";a(20);var t=(a(16),a(2)),i=window,s=a(19),o=a(13)(),r=a(27),c={init:function(){var e=t("#J-cart-cmp > div"),n=e.data("clear-time"),a=e.data("show-cart");if(a){e.addClass("show-cart");var c={elem:t("#J-cart-time"),startTime:n,unitFormat:{min:!0,sec:!0},timeStamp:{min:":",sec:""},action:"defined",callback:!0,lastTime:300,lastTimeCallBack:function(){o.open({content:r.fetch(),btns:["取消","去购物车"],onBtnClick:function(e,n){o.close(),1===n&&(i.location.href="cart.html?rbc=service")}})},callbackFunction:function(){e.removeClass("show-cart")}};new s(c)}t("body").trigger("cartChange",{cartNum:parseInt(t("#J-cart-flow-icon").attr("data-show-cart"))})},cacheCallback:function(){this.init()}};e.exports=c},36:function(e,n,a){"use strict";a(21)},37:function(e,n,a){"use strict";a(22)},38:function(e,n,a){"use strict";a(23)},48:function(e,n,a){"use strict";function t(e){if(!(this instanceof t))return new t(e);var n,a,l=e&&e.id||"J-popup",p=this.$popup=$("#"+l),h={};return $.extend(h,e),p.length?n=s:(a=$(r.fetch({popupId:l})),h.zIndex&&a.css("z-index",h.zIndex),h.className&&a.addClass(h.className),p=this.$popup=a.appendTo($("body")),this.$box=p,this.isOpen=!1,s=this,c="fixed"===p.css("position"),this.mask=o({zIndex:a.css("z-index")?parseInt(a.css("z-index"))-1:null}),this.mask.associate(this),i(p),n=this),n}function i(e){e.on("touchmove",".size-box",function(e){e.stopPropagation()}),e.on("close",s.close.bind(s))}a(65);var s,o=a(67),r=a(55),c=!0,l=t.prototype;$.extend(l,{setContent:function(e){return this.$popup.html(e),this},addClass:function(e){this.$popup.addClass(e)},setSize:function(e){return e&&this.$popup.css("width",e),this},conf:function(e){var n=this;return e.content&&this.setContent(e.content),requestAnimationFrame(function(){n.setSize(e.width)}),e.freeze||this.mask.freeze(!1),this.mask.scrollLock(e.scrollLock),this},open:function(){return arguments.length&&this.conf.apply(this,arguments),this.mask.open(),this.$popup.fadeIn(),this.isOpen=!0,this},close:function(){return this.$popup.fadeOut(),this.mask.close(),this.isOpen=!1,this}}),e.exports=t},50:function(e,n){},51:function(e,n){},52:function(e,n){},53:function(e,n){},54:function(e,n,a){var t=a(1);e.exports=new t('<a href="javascript:void(0)" class="J-close-wh close-btn" mars_sead="home_province_close_btn">\n    <i class="icon-cross"></i>\n</a>\n<div class="warehouse-win">\n    <div class="modal-header">\n        <h3 class="tit"><span class="hj icons-rocket"></span>选择收货地址，火速配送哦</h3>\n    </div>\n    <div class="modal-body J-modal-body">\n        <div class="modal-message">\n            <div class="ui-xx clearfix" data-merpos="true">\n                <h4>我们猜您在</h4>\n                <ul class="ui-list-li">\n                    <li>\n                        <a href="javascript:;" data-whlink=\'1\' data-position="{$recmd.position}" mars_sead="local-dress_btn" data_mars="{$recmd.mars}">{$recmd.name}</a>\n                    </li>\n                </ul>\n                {foreach from=$data item=item}\n                <h4>{$item.area}</h4>\n                <ul class="ui-list-li">\n                    {foreach from=$item.list item=wh}\n                    <li>\n                        <a href="javascript:;" data-whlink=\'1\' data-position="{$wh.position}" mars_sead="home_province_btn" data_mars="{$wh.mars}">{$wh.name}</a>\n                    </li>\n                    {/foreach}\n                </ul>\n                {/foreach}\n            </div>\n        </div>\n    </div>\n    <div class="modal-header">\n        <h3 class="tit"><span class="hj"></span>选择最近收货地址，送货更快哦</h3>\n    </div>\n</div>')},55:function(e,n,a){var t=a(1);e.exports=new t('<div id="{$popupId}" class="popup"></div>')},56:function(e,n){"use strict";var a=[{area:"华北地区",list:[{position:"VIP_BJ",name:"北京",mars:"101101"},{position:"VIP_BJ",name:"天津",mars:"101102"},{position:"VIP_BJ",name:"河北",mars:"101103"},{position:"VIP_BJ",name:"山西",mars:"101104"},{position:"VIP_BJ",name:"内蒙古",mars:"101105"}]},{area:"华南地区",list:[{position:"VIP_NH",name:"广东",mars:"104104"},{position:"VIP_NH",name:"广西",mars:"104105"},{position:"VIP_HZ",name:"河南",mars:"104101"},{position:"VIP_HZ",name:"湖北",mars:"104102"},{position:"VIP_HZ",name:"湖南",mars:"104103"},{position:"VIP_NH",name:"海南",mars:"104106"}]},{area:"华东地区",list:[{position:"VIP_SH",name:"上海",mars:"103101"},{position:"VIP_SH",name:"江苏",mars:"103102"},{position:"VIP_SH",name:"浙江",mars:"103103"},{position:"VIP_SH",name:"安徽",mars:"103104"},{position:"VIP_NH",name:"福建",mars:"103105"},{position:"VIP_HZ",name:"江西",mars:"103106"},{position:"VIP_SH",name:"山东",mars:"103107"}]},{area:"西南地区",list:[{position:"VIP_CD",name:"重庆",mars:"105100"},{position:"VIP_CD",name:"四川",mars:"105101"},{position:"VIP_CD",name:"贵州",mars:"105102"},{position:"VIP_NH",name:"云南",mars:"105103"},{position:"VIP_CD",name:"西藏",mars:"105104"}]},{area:"东北地区",list:[{position:"VIP_BJ",name:"辽宁",mars:"102101"},{position:"VIP_BJ",name:"吉林",mars:"102102"},{position:"VIP_BJ",name:"黑龙江",mars:"102103"}]},{area:"西北地区",list:[{position:"VIP_CD",name:"陕西",mars:"106101"},{position:"VIP_CD",name:"甘肃",mars:"106102"},{position:"VIP_CD",name:"青海",mars:"106103"},{position:"VIP_CD",name:"宁夏",mars:"106104"},{position:"VIP_CD",name:"新疆",mars:"106105"}]}];e.exports=a},60:function(e,n,a){"use strict";a(50);var t=a(2),i=a(44),s=window,o=t(s),r={init:function(){var e,n=t("#J-menu"),a=t("li.J-nav-current"),s=n.find("ul"),r=(s.find("li").size(),s.width()),c=o.width(),l=a.index();if(n.size()){var p=0;s.find("li").filter(function(e){return l>=e}).map(function(e,n){p+=t(n).width()}),n.find(".nav-wrapper").width(r),e=new i(n[0],{scrollX:!0,freeScroll:!1,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|A|SPAN)$/}});var h=t("#J-menu-placeholder"),d="menu-fixed";o.on("scroll.menu",function(){var e=h.offset().top,a=o.scrollTop();n[a>=e?"addClass":"removeClass"](d)}),p>c&&e.scrollTo(-(r-c),0)}},cacheCallback:function(){o.off("scroll.menu"),this.init()}};e.exports=r},61:function(e,n,a){"use strict";function t(){c("body").on("cartChange",function(e,n){r=n.cartNum}),s&&s.length&&s.click(function(){o.open({hasCart:r>0})})}function i(){s&&s.length&&(o=l({recmd:{position:s.attr("data-warehouse"),mars:s.attr("data-parent-code"),name:s.attr("data-province")}}))}a(51);var s,o,r,c=a(2),l=(a(4),a(6),a(63)),p={init:function(){s=c(".J-warehouse-btn"),i(),t()},cacheCallback:function(){s=c(".J-warehouse-btn"),i(),t()},showLoading:function(e){e?c("#J-index-loading").show():c("#J-index-loading").hide()}};e.exports=p},62:function(e,n,a){"use strict";a(52);var t=a(2),i=window,s={init:function(){var e=t("body");e.on("click",".J-back-to-prev",function(){var e=i.location.href,n=i.location.pathname,a=/\/brand-(\d+)(-\d+)*\.html/,t=/\/product-(\d+)-(\d+)*\.html/;if(a.test(n)&&!document.referrer)i.location.href="index.html";else if(t.test(n)){var s=n.match(t);i.location.href="brand-"+s[1]+"-0-0-0-1-0-1-20.html"}else/#top/i.test(e)?i.history.go(-2):i.history.go(-1)})}};e.exports=s},63:function(e,n,a){"use strict";a(53);var t,i=a(2),s=a(54),o=a(56),r=a(8),c=a(48)({className:"warehouse-win-pop",id:"J-warehouse-win-pop"}),l=a(11)(),p=a(13),h=!1,d=function(e){function n(e){u=!0,e.addClass("active"),l.open("正在切换分仓...",1e4),setTimeout(function(){e.removeClass("active"),u=!1},1e4),r.change({warehouse:e.attr("data-position"),area:e.html()},function(){location.reload()})}function a(e){t||(t=p({id:"J-wh-confirm",zIndex:parseInt(i("#J-warehouse-win-pop").css("z-index"))+100})),t.conf({title:"更换收货地址？",content:"购物车商品将会被清空",btns:["取消","更换"],onBtnClick:function(a,i){1==i?(t.close(),n(e)):(e.removeClass("active"),t.close())}}),t.open()}function d(){i(".J-close-wh",f.parent()).click(function(){_.close()}),i(".J-modal-body",f).click(function(e){var t=i(e.target);return"1"!==t.attr("data-whlink")||u?!1:r.getWarehouse()!==t.attr("data-position")&&h?(a(t),t.addClass("active"),!1):void n(t)})}var u=!1,m=s.fetch({recmd:e.recmd||{},data:o}),f=i(m),_={open:function(e){h=e.hasCart,c.open()},close:function(){c.close()}};return c.setContent(f),d(),_};e.exports=d},110:function(e,n){},119:function(e,n){},127:function(e,n,a){var t=a(1);e.exports=new t('<div class="share-panel">\n	<div class="share-bar clearfix">\n	    <a href="javascript:;" class="u-icon-share J-share-icon z-share-icon-disabled" data-share=\'weixin\' mars_sead="share_weixin_btn">\n		    <span class="i-icon icon-share-weixin"></span>\n		    <span class="i-text">微信好友</span>\n	    </a>\n	    <a href="javascript:;" class="u-icon-share J-share-icon z-share-icon-disabled" data-share=\'pengyou\' mars_sead="share_pengyou_btn">\n		    <span class="i-icon u-share-pengyou"></span>\n		    <span class="i-text">朋友圈</span>\n	    </a>\n	    <a href="javascript:;" class="u-icon-share J-share-icon z-share-icon-disabled" data-share=\'sina\' mars_sead="share_sina_btn">\n		    <span class="i-icon icon-share-sina"></span>\n		    <span class="i-text">新浪微博</span>\n	    </a>\n	    <a href="javascript:;" class="u-icon-share J-share-icon z-share-icon-disabled" data-share=\'qq\' mars_sead="share_qq_btn">\n		    <span class="i-icon icon-share-qq"></span>\n		    <span class="i-text">QQ好友</span>\n		</a>\n	    <a href="javascript:;" class="u-icon-share J-share-icon z-share-icon-disabled" data-share=\'qzone\' mars_sead="share_qzone_btn">\n		    <span class="i-icon icon-share-qzone"></span>\n		    <span class="i-text">QQ空间</span>\n	    </a>\n	    <a href="javascript:;" class="u-icon-share J-share-icon z-share-icon-disabled" data-share=\'link\' mars_sead="share_link_btn">\n		    <span class="i-icon icon-share-link"></span>\n		    <span class="i-text">复制</span>\n	    </a>\n    </div>\n	<a href="javascript:;" mars_sead="share_cancel_btn" class="share-btn-cancel J-share-btn-cancel">取消</a>\n</div>')},128:function(e,n,a){var t=a(1);e.exports=new t('<div class="share-copy z-copy-state-hide">\n	<p class="share-copy-tips">请长按复制网址告诉朋友</p>\n	<p class="share-copy-container" id="J-share-copy-container"></p>\n	<a href="javascript:;" id="J-share-copy-btn-close" class="share-btn-cancel">取消</a>\n</div>')},135:function(e,n,a){"use strict";var t=a(3),i=a(5),s={GET_MCP:t.getMcp},o={getMcp:function(e,n,a){i({url:s.GET_MCP,cache:!0,data:e,dataType:"jsonp",jsonpCallback:"getMcpShareData",success:function(e){n&&n(e)},error:function(e){a&&a(e),window.console&&window.console.log(arguments)}})}};e.exports=o},136:function(e,n,a){"use strict";var t=a(3),i=a(5),s={GET_WX_SHARE_CONFIG_INFO:t.wxShareSpecialHost+"/cmstopic/index/api/getcomshare"},o={getWXShareInfo:function(e,n,a){i({url:s.GET_WX_SHARE_CONFIG_INFO,cache:!1,data:e,dataType:"jsonp",jsonp:"callback",jsonpCallback:"callbackcomshare",success:function(e,a,t){n&&n(e,t)},error:function(e,n,t){a&&a(e,n,t)}})}};e.exports=o},140:function(e,n){"use strict";var a={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var n,t,i,s,o,r,c,l="",p=0;for(e=a._utf8_encode(e);p<e.length;)n=e.charCodeAt(p++),t=e.charCodeAt(p++),i=e.charCodeAt(p++),s=n>>2,o=(3&n)<<4|t>>4,r=(15&t)<<2|i>>6,c=63&i,isNaN(t)?r=c=64:isNaN(i)&&(c=64),l=l+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(r)+this._keyStr.charAt(c);return l},decode:function(e){var n,t,i,s,o,r,c,l="",p=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");p<e.length;)s=this._keyStr.indexOf(e.charAt(p++)),o=this._keyStr.indexOf(e.charAt(p++)),r=this._keyStr.indexOf(e.charAt(p++)),c=this._keyStr.indexOf(e.charAt(p++)),n=s<<2|o>>4,t=(15&o)<<4|r>>2,i=(3&r)<<6|c,l+=String.fromCharCode(n),64!=r&&(l+=String.fromCharCode(t)),64!=c&&(l+=String.fromCharCode(i));return l=a._utf8_decode(l)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var n="",a=0;a<e.length;a++){var t=e.charCodeAt(a);128>t?n+=String.fromCharCode(t):t>127&&2048>t?(n+=String.fromCharCode(t>>6|192),n+=String.fromCharCode(63&t|128)):(n+=String.fromCharCode(t>>12|224),n+=String.fromCharCode(t>>6&63|128),n+=String.fromCharCode(63&t|128))}return n},_utf8_decode:function(e){for(var n="",a=0,t=c1=c2=0;a<e.length;)t=e.charCodeAt(a),128>t?(n+=String.fromCharCode(t),a++):t>191&&224>t?(c2=e.charCodeAt(a+1),n+=String.fromCharCode((31&t)<<6|63&c2),a+=2):(c2=e.charCodeAt(a+1),c3=e.charCodeAt(a+2),n+=String.fromCharCode((15&t)<<12|(63&c2)<<6|63&c3),a+=3);return n}};e.exports=a},146:function(e,n,a){function t(){O?(E.uc=parseFloat(B.split("ucbrowser/")[1])||0,E.uc<10.2&&"ios"==W||E.uc<9.7&&"android"==W?L.uc=0:L.uc=1):Q&&!V.isWeixin()&&(E.qq=parseFloat(B.split("mqqbrowser/")[1])||0,E.qq<5.4&&"ios"==W||E.qq<5.3&&"android"==W?L.qq=0:E.qq<5.4&&"android"==W?L.qq=1:L.qq=2,i()),H=L.uc||L.qq?["sina","weixin","pengyou","qq","qzone","link"]:["sina","qzone","link"],y=!0}function i(){if(L.qq){var e=Z[L.qq],n=J("<script></script>");n.attr("src",e),n.appendTo(J("body"))}}function s(e,n){var n=J.param(n);return e.indexOf("?")>0?e+"&"+n:e+"?"+n}function o(e,n){var a=n-e,t=Math.random(),i=e+Math.round(t*a);return i}function r(e,n){return e.replace(/\\?\{([^{}]+)\}/g,function(e,a){return void 0===n[a]?"":n[a]})}function c(e,n){if(e){var n=n[e],a=n.share_title,t=n.share_url,i=n.share_content,o=n.share_image,r=N.encode(o),c=N.encode(a),l=N.encode(i),p=N.encode(t);if(L.uc){if("sina"==e)var a=i;if(e="ios"==W?G[e][0]:G[e][1],"QZone"==e){var h="mqqapi://share/to_qzone?src_type=web&version=1&file_type=news&req_type=1&image_url="+r+"&title="+c+"&description="+l+"&url="+p,d=document.createElement("div");d.style.visibility="hidden",d.innerHTML='<iframe src="'+h+'" scrolling="no" width="1" height="1"></iframe>',document.body.appendChild(d),setTimeout(function(){d&&d.parentNode&&d.parentNode.removeChild(d)},5e3)}"undefined"!=typeof ucweb?ucweb.startRequest("shell.page_share",[a,i,t,e,"","@VIPSHOP",""]):"undefined"!=typeof ucbrowser?ucbrowser.web_share(a,i,t,e,"","@VIPSHOP",""):P.open("浏览器不支持此分享功能",3e3)}else if(L.qq&&!V.isWeixin()){var u={url:t,description:i,img_url:o,cus_txt:"请输入此时此刻想要分享的内容"};"sina"==e?u.title=i:u.title=a,e=G[e][2],u.to_app=e,"undefined"!=typeof browser&&"undefined"!=typeof browser.app&&2==L.qq?browser.app.share(u):"undefined"!=typeof window.qb&&1==L.qq?window.qb.share(u):P.open("浏览器不支持此分享功能",3e3)}else if("qzone"==e){var m="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey",f={url:t,title:a,summary:i,pics:o,showcount:0};window.open(s(m,f))}else if("sina"==e){var m="http://service.weibo.com/share/share.php",f={url:t,title:i,pic:o,searchPic:!1};window.open(s(m,f))}else P.open("浏览器不支持此分享功能",3e3)}}function l(e){if(M){h(),T.val(e),T[0].setSelectionRange(0,T.val().length);var n=document.execCommand("copy");n&&!O?(P.open("链接复制成功",3e3),p()):(M=!1,p(),C=z({className:"share-copy-popup",id:"J-share-copy-popup"}),x.removeClass("z-copy-state-hide"),C.setContent(x),x.on("click","#J-share-copy-btn-close",d),k.html(e),u())}else k.html(e),u()}function p(){T.removeClass("z-copy-state-show").addClass("z-copy-state-hide")}function h(){T||(T=J(F),T.appendTo(J("body"))),T.removeClass("z-copy-state-hide").addClass("z-copy-state-show")}function d(){C.close()}function u(){C.open()}function m(e){var n=this;$.show(),n.popup=z({className:"share-popup",id:"J-popup-share"});var a={plat_type:"wap",service:"mcp/share/get_app_share",share_type:n.opts.share_type,id:n.opts.id||""};D.getMcp(a,function(a){if(1==a.code&&a.data){if(n.mcpShareData=a.data,!n.opts.img&&J("input.J-share-img[name="+n.opts.share_type+"]").length>0&&(n.opts.img=J("input.J-share-img[name="+n.opts.share_type+"]").val()),g.call(n),!n.opts.word&&J("input.J-share-word").length>1){var t={};J("input.J-share-word").each(function(e,n){t[J(this).attr("name")]=J(this).val()}),n.opts.word=t}n.opts.word&&b.call(n)}n.initialize=!0,f.call(n),e(),$.hide()},function(){$.hide(),P.open("未知错误，请刷新页面重试",3e3)})}function f(){var e=this;e.$shareBox&&(e.$shareBox.on("click",".J-share-btn-cancel",J.proxy(v,e)),e.$shareBox.on("click",".J-share-icon",J.proxy(w,e)))}function _(){var e=this;e.initialize?e.popup.open():m.call(e,function(){e.popup.open()}),Mar.Seed.request("button","click","share_show_page")}function v(){var e=this;e.popup.close()}function w(e){var n=this;if(0!=n.mcpShareData.need_login&&0==J("input#J-is-login").val())return location.href="https://mlogin.vip.com/user-login.html?back_act="+encodeURIComponent(location.href),!1;var a=J(e.target).closest(".J-share-icon").data("share");"link"==a?l(n.ShareData.link.share_url):c(a,n.ShareData),v.call(n)}function g(){for(var e=this,n=e.mcpShareData.share_channels,a={},t={},i=[],r=0,c=n.length;c>r;r++)a[n[r].channel]=n[r];for(var r=0,c=H.length;c>r;r++){var l=a[H[r]];if("undefined"!=typeof l){var p={cid:I.get("mars_cid"),share_type:e.opts.share_type,msns:"shop_wap-0-"+l.channel};if(l.share_url?l.share_url=s(l.share_url,p):l.share_url=s(location.href,p),l.share_content.length>1){var h=o(0,l.share_content.length-1);l.share_content=l.share_content[h]}else l.share_content=l.share_content[0]||R.share_content[opts.share_type];l.share_image||(l.share_image=e.opts.img||R.share_image),l.share_title||(l.share_title=R.share_title),t[l.channel]=l,i.push(l.channel)}}a=null,e.ShareData=t,e.ShareList=i;var d=J(S.fetch());e.$shareBox=d,e.popup.setContent(e.$shareBox);for(var r=0,c=i.length;c>r;r++)J(".J-share-icon[data-share="+i[r]+"]",e.$shareBox).removeClass("z-share-icon-disabled");if(i.indexOf("link")>0&&!x){var u=J(q.fetch());x=u.appendTo(J("body")),k=J("#J-share-copy-container")}}function b(){var e=this,n=JSON.stringify(e.ShareData),a=r(n,e.opts.word);e.ShareData=JSON.parse(a)}a(110);var y,C,x,T,k,S=a(127),q=a(128),J=a(2),I=a(12),z=a(48),P=a(11)(),$=a(47),D=a(135),V=a(4),N=a(140),j={},A={},F='<textarea readonly type="text" class="share-copy-text z-copy-state-hide" id="J-share-copy-text"></textarea>',M=!0,B=navigator.userAgent.toLowerCase(),H=[],O=B.split("ucbrowser/").length>1,Q=B.split("mqqbrowser/").length>1,W=/iphone|ipad|ipod/.test(B)?"ios":"android",E={uc:"",qq:""},L={uc:0,qq:0},Z={1:"http://3gimg.qq.com/html5/js/qb.js",2:"http://jsapi.qq.com/get?api=app.share"},G={sina:["kSinaWeibo","SinaWeibo",11,"新浪微博"],qzone:["kQZone","QZone","3","QQ空间"],weixin:["kWeixin","WechatFriends",1,"微信好友"],pengyou:["kWeixinFriend","WechatTimeline","8","微信朋友圈"],qq:["kQQ","QQ","4","QQ好友"]},R={share_image:"http://weixin.vipstatic.com/uploadfiles/weixin-spa/1.png",share_title:"唯品会",share_content:{product:"仅售{price}元 ！{brand_name}{product_name}",subject:"全场超低价折扣热卖！买买买",schedule:"{brand_name}超低价折扣热卖！快来抢购吧",activity:"活动火热进行中！快来参与吧"}},X=function(e){if(y||t(),e.isauto)window.shareByExtend=U;else{if(!e.share_type||!J(e.element).length)return;if(!(this instanceof X))return new X(e);var n=this;n.opts=e,J("body").on("click",e.element,J.proxy(_,n))}},U=function(e){if(e.share_type){var n;j[e.share_type]||(j[e.share_type]={}),n=e.id?j[e.share_type][e.id]?j[e.share_type][e.id]:j[e.share_type][e.id]={}:j[e.share_type].none?j[e.share_type].none:j[e.share_type].none={},n.opts||(n.opts=e),_.call(n)}};A.init=X,e.exports=A},147:function(e,n,a){"use strict";function t(){if("undefined"!=typeof config){for(var e=config.data.moduleList,n=0;n<e.length;n++)if("share"==e[n].module_type_id)return e[n].model.plugin_id;return 0}}function i(){var e={img:"http://weixin.vipstatic.com/uploadfiles/settlement/vip_logo.jpg",width:"310",title:s(".topic-name").text(),fTitle:s(".topic-name").text(),desc:"唯品会，一家专门做特卖的网站。全部正品，全部特价，限量抢购",url:window.location.href,menuId:1};if(window.specialShareConf&&(e.img=specialShareConf.img,e.title=specialShareConf.title,e.fTitle=specialShareConf.fTitle,e.desc=specialShareConf.desc,e.url=specialShareConf.url),window.callbackcomshare=function(n){var a=n.data.share_channels;if(a&&a.length){for(var t=0;t<a.length;t++){var i=a[t];"weixin"==i.channel?(e.img=i.share_image,e.fTitle=i.share_title,e.desc=i.share_content[0],e.url=i.share_url||e.url):"pengyou"==i.channel&&(e.img=i.share_image,e.title=i.share_content[0],e.url=i.share_url||e.url)}r.init(e)}},0!=t()){var n={comid:t(),timestamp:(new Date).getTime()/600};o.getWXShareInfo(n,function(e){window.callbackcomshare(e)},function(){r.init(e)})}else r.init(e)}var s=a(2),o=a(136),r=a(9),c={init:function(){i()}};e.exports=c}});